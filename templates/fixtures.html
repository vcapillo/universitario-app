{% extends "base.html" %}
{% block content %}
<h2 class="mb-4 text-center">ðŸ“… PrÃ³ximos Partidos</h2>

{% if next_matches %}
  <ul class="list-group mb-5">
    {% for match in next_matches %}
      <li class="list-group-item d-flex justify-content-between align-items-center flex-wrap">
        <div class="col-md-5 d-flex align-items-center">
          <img src="{{ match.homeTeam.logo }}" alt="{{ match.homeTeam.name }}" class="me-2" style="height:30px;">
          <strong>{{ match.homeTeam.name }}</strong>
        </div>
        <div class="col-md-2 text-center fw-bold">vs</div>
        <div class="col-md-5 d-flex align-items-center justify-content-end">
          <strong>{{ match.awayTeam.name }}</strong>
          <img src="{{ match.awayTeam.logo }}" alt="{{ match.awayTeam.name }}" class="ms-2" style="height:30px;">
        </div>
        <div class="col-12 mt-2 d-flex justify-content-between">
          <span>{{ match.startTimestamp | datetimeformat }}</span>
          <span class="badge bg-secondary">{{ match.tournament.name }}</span>
        </div>
      </li>
    {% endfor %}
  </ul>
{% else %}
  <div class="alert alert-info text-center">
    No hay partidos prÃ³ximos registrados por ahora.
  </div>
{% endif %}


<h2 class="mb-4 text-center">ðŸ“œ Ãšltimos 6 Partidos Jugados</h2>

{% if past_matches %}
  <ul class="list-group">
    {% for match in past_matches %}
      {% set u_is_home = match.homeTeam.id == 2305 %}
      {% set u_score = match.homeScore.display if u_is_home else match.awayScore.display %}
      {% set rival_score = match.awayScore.display if u_is_home else match.homeScore.display %}

      {% if u_score > rival_score %}
        {% set result_class = "list-group-item-success" %}
      {% elif u_score < rival_score %}
        {% set result_class = "list-group-item-danger" %}
      {% else %}
        {% set result_class = "list-group-item-warning" %}
      {% endif %}

      <li class="list-group-item {{ result_class }} d-flex justify-content-between align-items-center flex-wrap">
        <div class="col-md-5 d-flex align-items-center">
          <img src="{{ match.homeTeam.logo }}" alt="{{ match.homeTeam.name }}" class="me-2" style="height:30px;">
          <strong>{{ match.homeTeam.name }}</strong>
        </div>
        <div class="col-md-2 text-center fw-bold">
          {{ match.homeScore.display }} - {{ match.awayScore.display }}
        </div>
        <div class="col-md-5 d-flex align-items-center justify-content-end">
          <strong>{{ match.awayTeam.name }}</strong>
          <img src="{{ match.awayTeam.logo }}" alt="{{ match.awayTeam.name }}" class="ms-2" style="height:30px;">
        </div>
        <div class="col-12 mt-2 d-flex justify-content-between">
          <span>{{ match.startTimestamp | datetimeformat }}</span>
          <span class="badge bg-dark">{{ match.tournament.name }}</span>
        </div>
      </li>
    {% endfor %}
  </ul>
{% else %}
  <div class="alert alert-info text-center">
    No hay partidos jugados registrados por ahora.
  </div>
{% endif %}

{% endblock %}
