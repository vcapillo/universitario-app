{% extends "base.html" %}

{% block content %}
<div class="card shadow-sm mb-4">
  <div class="card-body d-flex align-items-center justify-content-between">
    <div class="d-flex align-items-center">
      <img src="https://universitario.pe/media/images/banners/PORTDA_WEB.jpg"
           alt="Universitario de Deportes"
           class="rounded me-3"
           style="height:60px; object-fit:cover;">
      <div>
        <h4 class="mb-0 fw-bold text-uppercase text-danger">Liga 1 - Clausura 2025</h4>
        <small class="text-muted">Tabla de posiciones actualizada</small>
      </div>
    </div>
    <span class="badge bg-danger fs-6">Rumbo a la 29 üèÜ</span>
  </div>
</div>

<h2 class="mb-4 text-center">üèÜ Tabla de Posiciones</h2>

{% if standings and standings.get("standings") %}
  {% set table = standings["standings"][0]["rows"] %}
  <div class="table-responsive">
    <table class="table table-striped table-hover align-middle text-center">
      <thead class="table-dark">
        <tr>
          <th>#</th>
          <th class="text-start">Equipo</th>
          <th>Pts</th>
          <th>J</th>
          <th>G</th>
          <th>E</th>
          <th>P</th>
          <th>GF</th>
          <th>GC</th>
          <th>DG</th>
        </tr>
      </thead>
      <tbody>
        {% for row in table %}
          <tr {% if row.team.id == 2305 %} class="table-warning fw-bold" {% endif %}>
            <td>{{ row.position }}</td>
            <td class="text-start d-flex align-items-center">
              <img src="{{ row.team.logo }}"
                   alt="{{ row.team.name }}"
                   class="me-2 rounded-circle border"
                   style="height:28px; width:28px; object-fit:cover;">
              <span>{{ row.team.name }}</span>
            </td>
            <td>{{ row.points }}</td>
            <td>{{ row.matches }}</td>
            <td>{{ row.wins }}</td>
            <td>{{ row.draws }}</td>
            <td>{{ row.losses }}</td>
            <td>{{ row.scoresFor }}</td>
            <td>{{ row.scoresAgainst }}</td>
            <td>{{ row.scoresFor - row.scoresAgainst }}</td>
          </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
{% else %}
  <div class="alert alert-info text-center">
    No hay informaci√≥n disponible de la tabla por ahora.
  </div>
{% endif %}
{% endblock %}
